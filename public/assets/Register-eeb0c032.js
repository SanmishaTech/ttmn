import{r as l,a as f,j as w,u as N,l as s,k as a,L as x,J as c}from"./main-56e33d04.js";import{z as t,u as v,C as y,t as S}from"./zod-33111011.js";import{U as D}from"./index-963277ed.js";/* empty css              */import{g as E,b as P,e as F,d as C,f as _,h as j}from"./Firebase-72b68b0f.js";const k=t.object({name:t.string().min(1,"Name is required"),email:t.string().email("Invalid email address").min(1,"Email is required"),password:t.string().min(1,"Password is required"),mobile:t.string().min(1,"Mobile is required"),pan:t.string().min(1,"Pan is required").regex(/^[a-zA-Z]{5}([0-9]){4}([a-zA-Z0-9]){1}?$/),password_confirmation:t.string().min(1,"Password confirmation is required"),dob:t.any()}),B=()=>{l.useState({}),l.useState(null),l.useState([]),f();const d=w();N(e=>e.themeConfig.theme==="dark"||e.themeConfig.isDarkMode);const p=E(P);function u(e){return e.toString().split("").map(Number).reduce((i,n)=>i+n,0)}const{register:o,control:h,setValue:q,handleSubmit:b,formState:{errors:r}}=v({resolver:S(k)});function m(e){return e.replace(/\D/g,"").split("").map(Number).reduce((i,n)=>i+n,0)}return l.useEffect(()=>{const e="02-02-2000",i=new Date(e);console.log(i.getDate());const n=m(e);console.log("sum",n)},[]),s("div",{className:"max-h-[100vh] flex justify-center items-center bg-cover bg-center bg-[url('/assets/images/map.svg')] dark:bg-[url('/assets/images/map-dark.svg')]",children:s("div",{className:"flex flex-col items-center justify-center h-full mt-[120px]",children:a("div",{className:" panel sm:w-[450px] min-h-[400px] m-6 max-w-lg w-full",children:[s("h2",{className:"font-bold text-2xl mb-3",children:"Sign Up"}),s("p",{className:"mb-7",children:"Enter your email and password to Register"}),a("form",{className:"space-y-5",onSubmit:b(e=>{if(e.password!==e.password_confirmation){c.warning("Passwords do not match");return}e.mobile=e.mobile.replace(" ",""),e.mobile=e.mobile.replace("-",""),console.log(e),F(C,e.email,e.password).then(async i=>{const n=i.user;console.log(n);const g=_(p,"users",n.uid);j(g,{name:e.name,email:e.email,mobile:e.mobile,pan:e.pan,driver:u(new Date(e.dob).getDate()),conductor:m(e.dob),dob:e.dob})}).then(()=>{c.success("Registration successful"),d("/")})}),children:[a("div",{children:[s("label",{htmlFor:"name",children:"Name"}),s("input",{id:"name",type:"text",...o("name"),className:"form-input",placeholder:"Enter Name"}),r.name&&s("span",{className:"text-red-600",children:r.name.message})]}),a("div",{children:[s("label",{htmlFor:"email",children:"Email"}),s("input",{id:"email",type:"email",...o("email"),className:"form-input",placeholder:"Enter Email"}),r.email&&s("span",{className:"text-red-600",children:r.email.message})]}),a("div",{children:[s("label",{htmlFor:"Date of Birth",children:"Date of birth"}),s("input",{...o("dob"),type:"date",className:"form-input"}),r.email&&a("span",{className:"text-red-600",children:[r.dob.message," "]})]}),a("div",{children:[s("label",{htmlFor:"mobile",children:"Mobile"}),s(D,{inputStyle:{width:"100%",borderRadius:"5px",padding:"10px",fontSize:"16px",color:"#000"},defaultCountry:"in",...o("mobile"),className:"form-input",placeholder:"Enter Mobile"}),r.mobile&&s("span",{className:"text-red-600",children:r.mobile.message})]}),a("div",{children:[s("label",{htmlFor:"pan",children:"Pan"}),s(y,{name:"pan",control:h,render:({field:e})=>{var i;return s("input",{id:"pan",placeholder:"Enter Pan number",...e,value:(i=e==null?void 0:e.value)==null?void 0:i.toUpperCase(),className:r.pan?"border-red-500 form-input":"form-input"})}})," ",r.pan&&s("span",{className:"text-red-600",children:r.pan.message})]}),a("div",{children:[s("label",{htmlFor:"password",children:"Password"}),s("input",{id:"password",type:"password",...o("password"),className:"form-input",placeholder:"Enter Password"}),r.password&&s("span",{className:"text-red-600",children:r.password.message})]}),a("div",{children:[s("label",{htmlFor:"password_confirmation",children:"Password Confirmation"}),s("input",{id:"password_confirmation",type:"password",...o("password_confirmation"),className:"form-input",placeholder:"Enter Password Confirmation"}),r.password_confirmation&&s("span",{className:"text-red-600",children:r.password_confirmation.message})]}),s("button",{type:"submit",className:"btn btn-primary w-full",children:"SIGN UP"})]}),a("p",{className:"text-center mt-8",children:["Already have an account?",s(x,{to:"/login",className:"font-bold text-primary hover:underline ltr:ml-1 rtl:mr-1",children:"Sign In"})]})]})})})};export{B as default};
